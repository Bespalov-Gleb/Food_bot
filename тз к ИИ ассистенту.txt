
# Техническое задание для системы управления базой данных с искусственным интеллектом

## 1. Цели и назначение
- Создать облачную базу данных на платформе Яндекс.Облако для хранения и управления запросами и предложениями клиентов.
- Реализовать управление базой данных через искусственный интеллект (например, YandexGPT через Yandex Cloud AI Studio) для автоматизации обработки входящих сообщений, анализа данных, создания отчетов и других функций.
- Обеспечить удобный доступ к системе через Telegram (с полным функционалом как с компьютера, так и с телефона) и простой веб-интерфейс для просмотра данных в браузере.
- Система должна быть простой, над безотказной и минимально затратной в финансовом плане 

## 2. Функциональные требования
### 2.1. Структура базы данных
- База данных состоит из двух основных разделов: «Спрос» (покупка) и «Предложение» (продажа). Также возможен тип «Договор» для фиксации заключенных сделок.
- Каждая запись включает следующие поля:
  - Наименование и описание товара.
  - Характеристики товара.
  - Количество.
  - Цена.
  - Местонахождение.
  - Контакт для связи (имя, номер телефона или другие данные).
  - Ссылка на фотографию (или папку с фотографиями).
  - Тип записи (продажа, спрос/покупка или договор).
- Все записи хранятся бессрочно, пока не будет дана команда на удаление или редактирование.
- Хранение фотографий: в Яндекс Object Storage или Яндекс.Диске, с автоматической привязкой ссылок к записям.

### 2.2. Обработка входящих данных через Telegram
- Пользователь отправляет сообщения в Telegram боту в определенном формате (например: "станок отрезной, одна штука, Челябинск, продает Алексей, номер телефона, продажа" или "станок отрезной, Москва, покупка").
- ИИ распознает тип запроса (продажа, спрос или договор) по ключевым словам и парсит поля для внесения в соответствующий раздел базы.
- Если сообщение содержит фотографии, пользователь указывает, к какой записи они относятся; ИИ загружает их на диск и прикрепляет ссылку к записи (или папке с фото).
- Стиль общения ИИ в Telegram: формальный.

### 2.3. Анализ совпадений
- Ежедневно в 9:00 утра ИИ анализирует разделы «Спрос» и «Предложение» и формирует таблицу совпадений.
- Критерии совпадений: наименование товара, характеристики, местонахождение, цена, контактные данные.
- Формат отчета: простая таблица с парами «Спрос - Предложение», где для каждой стороны указаны все данные записи (наименование, описание, характеристики, количество, цена, местонахождение, контактные данные), чтобы пользователь мог сразу связаться с обеими сторонами.
- Отчет отправляется в Telegram.

### 2.4. Отчеты и копии базы
- Еженедельная копия всей базы данных: в формате Excel, отправляется на email каждую пятницу в 17:00.
- Еженедельный статистический отчет: количество запросов и предложений за неделю, популярные товары, регионы; в формате Excel, отправляется на email каждое утро понедельника в 9:00.

### 2.5. Самодиагностика и проверка ошибок
- Еженедельно в среду в 18:00 ИИ проводит актуализацию: проверяет дубликаты записей, некорректные данные (пустые поля, неверные форматы телефона), проблемы с загрузкой фотографий и общую работоспособность.
- Если ошибки обнаружены, ИИ уведомляет пользователя через Telegram.

### 2.6. Напоминания и расписание
- Функция создания напоминаний по команде в Telegram (например: "Напомни мне завтра в 3 часа отправить Александру из Пятигорска фотографии кассетных установок из Севастополя").
- ИИ отправляет напоминание в указанное время через Telegram.
- Интеграция с календарем (Google, Яндекс или встроенный) для надежного расписания действий (ежедневные/еженедельные отчеты, самодиагностика).
- Уведомления о важных событиях (срочные запросы, пропущенные напоминания) отправляются в Telegram.

### 2.7. Редактирование, удаление и экспорт данных
- Редактирование или удаление записей: по команде в Telegram, с указанием ключевых данных (наименование, местонахождение и т.д.) для идентификации записи.
- Экспорт определенных записей: по запросу в Telegram, с фильтрами (по городу, типу и т.д.); отправляется в формате Excel через Telegram.

### 2.8. Журнал действий
- ИИ ведет журнал всех действий (добавление, редактирование, удаление записей, предоставление доступа).
- Журнал используется ИИ для анализа ошибок, исправлений или отката изменений.
- Доступен по запросу пользователя в подходящем формате (например, Excel или текст) через Telegram.

### 2.9. Доступ и безопасность
- Настраиваемое ограничение доступа: основной пользователь имеет полный доступ; возможность открыть доступ третьим лицам через команды в Telegram (указать, кому и на какой срок).
- Шифрование данных и ограничение доступа для защиты информации.

### 2.10. Интерфейс
- Основной интерфейс: Telegram-бот для ввода данных, запросов, напоминаний и получения уведомлений/отчетов.
- Дополнительный: простой веб-интерфейс в браузере для просмотра и фильтрации записей базы данных.

## 3. Технические требования
- База данных: Yandex Database (YDB) или аналогичная СУБД на Яндекс.Облаке.
- ИИ: YandexGPT или аналогичный для обработки текстов, парсинга, анализа и NLP-задач.
- Интеграция: Telegram API для бота; Яндекс.Облако для хранения и вычислений.
- Язык программирования и технологии: выбор за разработчиками, с приоритетом на простоту, надежность и низкие затраты (например, Python с библиотеками для ИИ и облака).
- Автоматизация: скрипты для ежедневных/еженедельных задач (отчеты, проверки).
- Масштабирование: система должна быть готова к расширению без значительных переделок.
- Нет интеграции с другими сервисами (CRM и т.д.), кроме указанных.

## 4. Требования к реализации
- Система не должна автоматически уведомлять клиентов о совпадениях; все коммуникации контролирует пользователь.
- ИИ не предлагает автоматических действий (например, рекомендации по сделкам); только предоставляет данные для решений пользователя.
- Тестирование: на надежность, обработку ошибок и безотказность.
- Документация: полное описание работы системы, команд в Telegram и администрирования.
