ТЗ


Добавление и редактирование меню и всех данных делается с личного кабинета - сайта. (Админки).  
Личный кабинет главного админа, который может добавлять и удалять рестораны и редактировать их данные.
И личный кабинет ресторана, где он может добавлять и редактировать только данные своего ресторана. 


Через сайт можно делать рассылку.
На сайте есть статистика[a].
На сайте есть база данных пользователей с возможностью блокировать пользователей.
Главный админ на сайте может смотреть все отзывы и удалять.


ТЗ по сайту админки нету. Главный критерий удобство, простота и скорость. 






Примеры взяты с бота https://t.me/FoodsheBot
С Чиббис, Яндекс Еда (ЯЕ) Delivery Club (DC). 


1. Идут[b] слайды[c] построенные в ряд горизонтально категории с подборками с картинками чуть меньше чем картинки в списке ресторанов. Как в яндекс еда(ЯЕ). Подборки могут быть как из блюд разных ресторанов,[d] так и самих ресторанов[e].
Пример на картинке ниже.  (Фото пример с ЯЕ).
  

(Если не добавлена ни одна подборка, тогда там пусто, их просто нету, а идет сразу список ресторанов.)


2.  Ниже идут список ресторанов как в ЯЕ : 
  



3. На главной странице списка ресторанов внизу есть 4 кнопки: 
1. Главное - при нажатии выводит на верхний ряд главной страницы.
2. Акции - открывает страницу с акциями как в Чиббис
3. Корзина - описание корзины в пункте 9
4. Профиль - сделать похожей как в боте Фудше[f]. При нажатии открывается страница со списком:  
История заказов - показывает список  заказов со статусом. Подробнее в п.14.
Личные данные - при нажатии открываются поля где есть телефон Адрес, Имя, Дата рождения и правовые документы, где есть два документа: 1 Пользовательское соглашение и политика конфиденциальности. 
Связь. 
4. При нажатии на ресторан открывается страница ресторана. Пример взято с Чиббис :  Где указана информация[g]: 
1 Название ресторана. 2 Общая оценка рейтинга и  Отзывы. 3 Условие доставки. 4 Время доставки. 5 Категории меню которая двигается горизонтально и нажимается при нажатии показывая выбранную категорию. 6 Поле в рамочке где может быть размещено разное инфо. Например о акции при нажатии открывается более подробный текст. Может быть несколько таких полей и рамочки могут быть разных цветов. 7 Информация о ресторане при нажатии открывается страница с подробной информацией о ресторане - Название, Режим работы, Адрес и Данные службы доставки. фото 2 (Пример с DC).  
  

Фото 2: 
  

 




5. Ниже идут в два ряда вертикально блюда. Как в ЯЕ. Под фото есть стоимость и название. Под блюдами кнопка + при нажатии которых она исчезает и появляются кнопки - 1 +. Где цифра 1 это количество добавленных в корзину блюд. Также внизу появляется кнопка корзины с надписью Далее и меняющаяся сумма в зависимости от добавления и убавления блюд (Фото пример с ЯЕ) 
  

6. При нажатии + в некоторых блюдах в которых требуется уточнения открываются страница блюда где внизу можно отметить точками (или галочками как в ЯЕ) нужные опции и дополнения если они есть. Как на фото внизу. Также внизу есть кнопки - 1 + и В корзину  сумма р.
  
[h]


7. При нажатии на саму картинку любого блюда также открывается страница блюда с подробным описанием как на фото (Пример Чиббис). Также внизу есть кнопки - 1 + и В корзину сумма р 
  



8. Если ресторан не работает то при открытии ресторана выходит надпись - «В данное время ресторан не работает» 


9. Работу[i] Корзины сделать похожую как в Яндекс Еда 
9.1 При добавлении первого блюда кнопкой + внизу появляется кнопка «Далее» с итоговой суммой заказа. Сумма сразу меняется при добавлении или удалении блюда. 
9.2 Можно добавлять одновременно блюда разных ресторанов (максимум 4 ресторана) в странице списка ресторанов внизу в корзине показывает цифру количество ресторанов с которых добавлены блюда.  Пример на фото. 
  

9.3 При нажатии на корзину открывается страница корзины. Также на самом верху слева кнопка Х для выключения корзины, рядом надпись корзина потом справа рисунок корзины для удаления, после нажатия которого выходит вопрос “очистить корзину” или нет. Ниже горизонтально идут в таких же или похожих рамочках рестораны с названием. При нажатии которых меняется корзина с содержимым выбранного ресторана. (Пример на фото ниже)
В списке блюд рядом с добавленным блюдом с боку есть кнопки  - 1 + 
Внизу кнопка открыть меню[j] - открывает страницу ресторана с меню. (как в ЯЕ) 
Ниже Опция добавления приборов и рядом итоговая сумма добавленных блюд - (этого нету в ЯЕ и DC)
На самом внизу стоит кнопка “Далее”
  

10. Внизу кнопка «Далее» при нажатии которой открывается вторая страница корзины откуда можно отправить в ресторан оформленный заказ. В этой странице указаны: (пример фото с Чиббис)  
  

1 Название ресторана
2 Выбор доставка или Навынос. При нажатии Навынос, адрес клиента меняется на Адрес службы откуда брать заказ. (Как в Чиббис)
3 Номер телефона
4 Адрес - подгоняется автоматически если заполнен в профиле, его можно изменить[k]
5 Комментарий к заказу
6 Способ оплаты - вот здесь должны быть способы: Наличными курьеру, Картой курьеру, Переводом.
7 Как на фото К оплате итоговая сумма и кнопка и “Оформить заказ”
11. Если по условиям доставки у ресторана есть обязательная минимальная сумма. То при нехватке минимальной суммы, на странице корзины внизу вместо кнопки «Далее» стоит не кликабельная кнопка с надписью “Добавьте еще на 789 р.“ (любая не хватающая сумма).


12. Если в корзине уже 4 ресторана, то при добавлении блюда с 5 го ресторана выходит страница как в ЯЕ: 
  

При нажатии кнопки корзины с боку (Удалении) автоматически добавляется блюдо в корзину. При нажатии Готово страница пропадает.                                   
13. После отправки заказа приложение закрывается и бот отправляет сообщение: “Заказ отправлен ждите подтверждение ресторана “Название ресторана”. Состав заказа: (пишется заказанные блюда.) и итоговая цена. Нажмите на кнопку ниже, чтобы открыть подробную информацию о заказе”. И кнопка внизу которая открывает веб окно - «Открыть текущий заказ» пример на фото с некоторыми изменениями. (Пример с бота: https://t.me/foodshebot )      
  
            
14. При нажатии “Открыть текущий заказ” открывается приложение с данными последнего заказа и надписью наверху со статусом заказа и кнопкой “Связаться с нами” при нажатии которой выходит кликабельная ТГ ссылка в тех поддержку.  То есть приложение открывается в позиции профиль, история заказов, последний свежий заказ. При нажатии кнопки Назад выводит на шаг назад по очередности это: история заказов, список профиля и главная страница со списком ресторанов.
  

  
[l]
15. После подтверждения заказа Рестораном, в бот приходит следующее сообщение: 
“Ресторан “Название” принял Ваш заказ.   Время доставки - 1 час.”[m][n][o]
И кнопка внизу “Открыть текущий заказ”[p] 
16. При нажатии открывается то же окно приложения в позиции заказа с составом и новым статусом и уже с кнопкой “Связаться с  рестораном” . Внизу появляется кнопка “Доставлено[q]” которую можно включать после доставки. При нажатии кнопки “Назад” также выводит на предыдущие окна до списка ресторанов.
  
        
  

17. При нажатии на кнопку “Связаться с рестораном” выходит номер телефона ресторана которую можно скопировать и позвонить с телефона.
18. При нажатии кнопки “Доставлено” статус заказа (надпись наверху) меняется на “Доставлен”. И кнопка становиться не кликабельной. Если не нажимать кнопку до конца времени доставки, то статус меняется автоматически на “Доставлен” 
19. После смены статуса на “Доставлен”, в приложении выходит надпись с кнопками предложением оценки рейтинга ресторану и написать отзыв. 
20. Стоит она до тех пор пока пользователь не отправит оценку. Кнопки отправить нету или она не кликабельна до тех пор пока клиент не поставит звездочку из пяти. Комментарий не обязателен, могут написать могут и нет.
  

Взаимодействие ресторан - бот.


21. Аккаунт ресторана в боте пишет /admin и становиться админом своего ресторана. И сразу появляется дополнительная кнопка “Профиль ресторана” 
22. При нажатии этой кнопки открывается отдельное окно мини приложения профиля ресторана. Оно как бы отделено от основного приложения, то есть там нету списка ресторанов и т.д а только профиль ресторана. Где есть: 
22.1 Данные ресторана которые он может задать[r] сам:  Режим работы, адрес, номер телефона.
22.2 Возможность включать или выключать[s] ресторан. (Статус: включен/выключен)
22.3 История заказов со статусами, нужно как то удобно структурировать. 
22.4 Условия и минимальная сумма заказа и время доставки.


23. Ресторану приходит сообщение в бот. Где написано: а) Номер заказа, б) состав заказа, в) адрес доставки, г) способ оплаты, д) итоговая сумма заказа и е) кнопка для открытия приложения где есть данные заказа. Одновременно на почту ресторана приходит письмо с заказом и ссылкой на заказ в боте чтобы обработать заказ.                                   
  

24. При нажатии на кнопку открывается мини приложение в позиции пункта 22.3
    
25. После выбора и нажатия кнопки “Отправить” меняется страница в этом же мини приложении. В этой странице показывает статус[t] и состав заказа и данные заказа и уже номер телефона клиента: 
"Принят рестораном в 15:40. (Время заказа) Время доставки - 1 час. 
Состав заказа: 
Пицца  
Бургер
Кола
Итого: 3200 р.
Оплата: Картой курьеру
Адрес: Ленина 8, под. 3, кв 7
Номер клиента: 8 924 678 78 90 
Комментарий клиента: “
Кнопка “Отменить[u]” 
Кнопка “Изменить заказ”[v] 
Кнопка “Доставлено[w]” 
26. С этого момента отсчитывается таймер времени в зависимости от того какое время выбрали. По истечении которого статус автоматически меняется на "Доставлен"  И  клиенту приходит уведомление с предложением оценки и написания отзыва ресторану. Или же клиент или ресторан сами могут нажать на эту кнопку раньше и тогда статус меняется.


27. При нажатии кнопки “Изменить заказ” откроется страница корзины с составом заказа где ресторан может удалить и добавить блюдо и обязательно должны написать комментарий клиенту.
  
[x]


28. Клиенту приходит в бот сообщение
  



29. При нажатии кнопки “Открыть текущий заказ”  открывается веб окно корзины с измененным составом заказа. Далее все по обычному сценарию оформления заказа.
  

30. При нажатии “Отменить заказ” в позиции пункт 24. Когда еще заказ не принят. Открывается страница как в пункте 27 только без состава заказа, но с возможностью добавления комментария и отправку отмены заказа с комментарием клиенту.


31. Клиенту приходит сообщение: Ресторан “Название” отменил заказ. С комментарием как в пункте 28. Только без кнопки “Открыть текущий заказ”  


Профиль главного админа.
32. В главную админку можно войти через кодовое слово и появляется кнопка главного админа. При нажатии кнопки бот отправляет сообщением следующие кнопки:
32.1 Добавить и удалить ресторан. Как делается: Добавляется аккаунт и название ресторана и ресторан добавляется с выключенным статусом по умолчанию. Этот аккаунт в свою очередь пишет слово /admin[y] и открывает свою админку ресторана. При удалении бот спрашивает “Точно хотите удалить ресторан?”
32.2 Включать и выключать[z] статус ресторана
32.3 Отправлять рассылку[aa] с фото или видео отдельно только ресторанам или только клиентам, или всем.
32.4 Статистика[ab]:  
При нажатии на кнопку выходят две кнопки:
                                   32.4.1. Общая статистика:
Данные по всем ресторанам - Количество заказов за текущий месяц на сумму и за текущий день на сумму. Количество отмен. Количество изменений в заказе.
Заказы за текущий месяц - хххх на сумму ххххх р (хххх это общее количество заказов по всем ресторанам. ххххх р это общая сумма по всем  заказам) Отмен - хх Изменений в заказе - х 
Заказы за сегодня - ххх на сумму ххх.000 р (Общее количество заказов по всем ресторанам) Отмен - хх Изменений в заказе - х 
32.4.2. Статистика по ресторану. При нажатии этой кнопки из выпадающего меню выходит список ресторанов. При выборе ресторана выходят данные статистики этого ресторана:
32.4.3. «Вкусно и точка» в месяц ххх заказов на сумму ххх.000 р Отмен - хх Изменений в заказе - хх
Сегодня хх на сумму х0000 р. Отмен - хх Изменений в заказе - хх
32.4.4. Статистика - Общее количество пользователей. Количество пользователей, которые заблокировали бот.
32.4.5. Уникальные пользователи за текущий месяц - ххх (это количество новых пользователей, которые вошли в бот и нажали кнопку) 
32.4.6. Уникальные пользователи сегодня - ххх
32.4.7. Общее количество посещений в месяц (Количество всех людей, которые нажали любые кнопки в боте в месяц) 
32.4.8. Общее количество посещений сегодня (Количество всех людей, которые нажали любые кнопки в боте в день) 




Журнал бота. 
1. В канал приходят сообщения всех действий по оформлению заказов в виде изменения статусов заказов: Аккаунт кто-то оформил заказ N-хх в ресторане “Название” на сумму, адрес, состав и т.д. то есть пересылаются все данные заказа. После принятия заказа рестораном, также приходит сообщение в журнал, что какой то заказ принят каким то рестораном и изменен статус. Аналогично по изменению или отмене заказа. 
2. Также все действия по редактированию бота: например админ добавил или удалил ресторан. Или внес какие то изменения в режим работы и т.д.






























[a]Описание статистики внизу.
[b]Это опция желательная, но не обязательная. Все зависит от бюджета.
[c]На сайте есть два вида добавления: 
1) Рестораны - добавляешь рестораны со списка. И добавляешь название этой подборки.
2) Блюда - добавляешь блюда с разных ресторанов. И добавляешь название этой подборки.
[d]Горизонтально идут блоки с блюдами разных ресторанов. Один блок это одно блюдо от одного ресторана. Нажатие на этот блок открывает страницу меню ресторана в позиции этого блюда.


Например: Список "Лучшие комбо-наборы" 
Идут блоки с названиями и картинками комбо наборов разных ресторанов. При нажатии на блок с названием открывается меню этого ресторана в позиции этого комбо-набора.
[e]Каждый блок это разные рестораны. Нажатие на ресторан открывает страницу ресторана
[f]https://t.me/FoodsheBot
[g]На сайте добавляются данные ресторана: (Может добавить главный админ на любой ресторан. И/или сам ресторан добавляет свои данные)


1) Название
2) Условие доставки - минимальная сумма и стоимость доставки.
3) Время доставки
4) Любое инфо в поле в рамочке. Например текст про акцию.
5) Информация про Ресторан.
[h]Такие открывающиеся окна блюда можно закрыть свайпом как в боте @ebot_demo_bot
[i]Тоже самое зависит от стоимости этой опции. Особенно одновременное добавление в корзину из 4 ресторанов. Если это опция удорожает стоимость, то можно упростить.
[j]Это кнопка есть только в случае перехода в корзину с главной страницы списка ресторанов. Если же перейти в корзину с меню самого ресторана через кнопку "Далее сумма", то кнопки "Открыть меню" нету. А есть тока крестик который закрывает страницу и возвращает в меню.
[k]Обязателен к заполнению. Если не заполнен заказ не отправляется
[l]Внизу после состава заказа показывает данные: номер заказа, дата и время, тип заказа, способ оплаты и итоговая сумма.
[m]С этого времени отчитывается таймер времени в 1 час. ( в зависимости какое время выбрал ресторан) по истечении которого статус меняется на «Доставлен» если до этого никто не нажал кнопку «Доставлен» или не отменил заказ. Итии
[n]_Помечено как решенное_
[o]_Открыто повторно_
[p]Получается открывает мини приложение в позиции текущего заказа
[q]Если не нажимать, пропадает после истечения времени доставки.
[r]Можно сделать это и через бот и через сайт
[s]при выключении ресторан пропадает со списка
[t]Статус показывает - "Принят рестораном в 15:40. (Время) Время доставки - 1 час.
[u]При нажатии этой кнопки (Отмена заказа после принятия) Выходит надпись: "Для отмены заказа обратитесь в бот обращений сервиса или позвоните вашему менеджеру: ТГ ссылка
[v]Описание пункт 27
[w]При нажатии меняется статус на "Доставлено" и отправляется уведомление клиенту с предложением оценки и комментария
[x]Кнопка отправить Активна только после добавления комментария
[y]админку могут открывать только те аккаунты, которых добавил главный админ
[z]При выключении ресторан исчезает со списка ресторанов
[aa]Также рассылку можно отправлятб через сайт, личный кабинет главного админа
[ab]Вся статистика также показывается на сайте